(this["webpackJsonpan-audio-xmas"]=this["webpackJsonpan-audio-xmas"]||[]).push([[0],{14:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(1),s=n.n(i),r=n(3),c=n.n(r),o=n(6),l=n(4),u=n(5),d=n(8),b=n(7),m=function(e){var t=e.index,n=e.value,i="bg-success";t%2===1&&(i="bg-danger"),t%3===0&&(i="bg-primary");var s=100*(n<200?n/200:1);return Object(a.jsx)("div",{className:"progress my-1",children:Object(a.jsx)("div",{className:"progress-bar ".concat(i),role:"progressbar",style:{width:"".concat(s,"%")},"aria-valuenow":s,"aria-valuemin":s,"aria-valuemax":"100"})})},j=window.AudioContext||window.webkitAudioContext,g=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).toggleListening=function(){a.state.listening?a.setState({listening:!1}):(a.setState({listening:!0}),a.startListening())},a.startListening=function(){navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(e){a.audioContext=new j,a.setState({stream:e}),a.soundAllowed()}))},a.soundAllowed=function(){var e=a.state.stream,t=a.audioContext.createMediaStreamSource(e);a.analyser=a.audioContext.createAnalyser();a.analyser.fftSize=32,t.connect(a.analyser);var n=a.analyser.frequencyBinCount,i=new Uint8Array(n);a.setState({frequencyArray:i}),a.listen()},a.listen=function(){var e=a.state,t=e.listening,n=e.frequencyArray;if(t){var i=new Uint8Array(n);a.analyser.getByteFrequencyData(i),a.setState({frequencyArray:i}),requestAnimationFrame(a.listen)}},a.state={stream:null,listening:!1,frequencyArray:new Uint8Array},a.audioContext=null,a.analyser=null,a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.listening,n=e.frequencyArray,i=Object(o.a)(n);return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"alert alert-info text-center",role:"alert",children:"Use your microphone to create some holiday spirit! Simply click the button below and sing a song!"}),Object(a.jsx)("div",{className:"d-grid gap-2 mb-5",children:Object(a.jsxs)("button",{className:"btn btn-block ".concat(t?"btn-danger":"btn-success"),onClick:this.toggleListening,children:[t?"Stop":"Start"," Listening"]})}),i.map((function(e,t){return Object(a.jsx)(m,{index:t,value:e},t)}))]})}}]),n}(i.Component),y=n.p+"static/media/social.0557933e.png",x=function(){return Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col mt-5 p-3",children:[Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)("img",{style:{maxWidth:"300px"},className:"img-fluid",src:y,alt:"An Audio Xmas"})}),Object(a.jsx)(g,{})]})})})};c.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(x,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.f1d1b4dd.chunk.js.map