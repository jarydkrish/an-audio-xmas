(this["webpackJsonpan-audio-xmas"]=this["webpackJsonpan-audio-xmas"]||[]).push([[0],{14:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),i=n.n(r),s=n(3),c=n.n(s),o=n(6),l=n(4),u=n(5),d=n(8),b=n(7),j=function(e){var t=e.value,n=100*(t<200?t/200:1);return Object(a.jsx)("div",{className:"progress my-1",children:Object(a.jsx)("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(n,"%")},"aria-valuenow":n,"aria-valuemin":n,"aria-valuemax":"100"})})},y=window.AudioContext||window.webkitAudioContext,g=function(e){Object(d.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).toggleListening=function(){a.state.listening?a.setState({listening:!1}):(a.setState({listening:!0}),a.startListening())},a.startListening=function(){navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(e){a.audioContext=new y,a.setState({stream:e}),a.soundAllowed()}))},a.soundAllowed=function(){var e=a.state.stream,t=a.audioContext.createMediaStreamSource(e);a.analyser=a.audioContext.createAnalyser();a.analyser.fftSize=32,t.connect(a.analyser);var n=a.analyser.frequencyBinCount,r=new Uint8Array(n);a.setState({frequencyArray:r}),a.listen()},a.listen=function(){var e=a.state,t=e.listening,n=e.frequencyArray;if(t){var r=new Uint8Array(n);a.analyser.getByteFrequencyData(r),a.setState({frequencyArray:r}),requestAnimationFrame(a.listen)}},a.state={stream:null,listening:!1,frequencyArray:new Uint8Array},a.audioContext=null,a.analyser=null,a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.listening,n=e.frequencyArray,r=Object(o.a)(n);return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"d-grid gap-2 mb-5",children:Object(a.jsxs)("button",{className:"btn btn-block ".concat(t?"btn-danger":"btn-success"),onClick:this.toggleListening,children:[t?"Stop":"Start"," Listening"]})}),r.map((function(e,t){return Object(a.jsx)(j,{value:e},t)}))]})}}]),n}(r.Component),m=function(){return Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col mt-5 p-3",children:Object(a.jsx)(g,{})})})})};c.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(m,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.88c52c4b.chunk.js.map